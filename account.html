<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>Registratie & Inloggen | MestAssistent</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <nav class="navbar">
      <a href="index.html" class="nav-logo">MestAssistent</a>
      <ul class="nav-links">
        <!-- Niet-ingelogd -->
        <li>
          <a href="account.html" class="btn-login" id="nav-register">
            Registreren / Inloggen
          </a>
        </li>
        <!-- Ingloged -->
        <li>
          <a href="account.html" class="nav__item" id="nav-account" style="display:none;">
            Mijn account
          </a>
        </li>
        <li>
          <button class="btn-login" id="nav-logout" style="display:none;">
            Uitloggen
          </button>
        </li>
      </ul>
    </nav>
  </header>
  <main class="container">
    <section id="auth-section">
      <div class="tabs" style="display: flex; gap: 1rem; margin-bottom:1rem;">
        <button id="tab-register" class="btn btn-primary" type="button">Registreren</button>
        <button id="tab-login" class="btn" type="button">Inloggen</button>
      </div>

      <!-- REGISTRATIEFORMULIER -->
      <form id="registerForm" style="display: block; margin-top:2rem;" autocomplete="off">
        <div class="field-group">
          <label for="firstName">Voornaam</label>
          <input type="text" id="firstName" name="firstName" required />
          <div class="error" id="err-firstName"></div>
        </div>
        <div class="field-group">
          <label for="tussenvoegsel">Tussenvoegsel (optioneel)</label>
          <input type="text" id="tussenvoegsel" name="tussenvoegsel" />
          <div class="error" id="err-tussenvoegsel"></div>
        </div>
        <div class="field-group">
          <label for="lastName">Achternaam</label>
          <input type="text" id="lastName" name="lastName" required />
          <div class="error" id="err-lastName"></div>
        </div>
        <div class="field-group">
          <label for="email">E-mail</label>
          <input type="email" id="email" name="email" required />
          <div class="error" id="err-email"></div>
        </div>
        <div class="field-group">
          <label for="phone">Telefoon</label>
          <input type="text" id="phone" name="phone" value="+31 6 " required />
          <div class="error" id="err-phone"></div>
        </div>
        <div class="field-group">
          <label for="city">Woonplaats</label>
          <input type="text" id="city" name="city" required />
          <div class="error" id="err-city"></div>
        </div>
        <div class="field-group">
          <label for="postcode">Postcode</label>
          <input type="text" id="postcode" name="postcode" placeholder="1234 AB" required />
          <div class="error" id="err-postcode"></div>
        </div>
        <div class="field-group">
          <label for="street">Straat</label>
          <input type="text" id="street" name="street" required />
          <div class="error" id="err-street"></div>
        </div>
        <div class="field-group">
          <label for="huisnummer">Huisnummer</label>
          <input type="number" id="huisnummer" name="huisnummer" required />
          <div class="error" id="err-huisnummer"></div>
        </div>
        <div class="field-group">
          <label for="huisnummer_toevoeging">Huisnummertoevoeging (optioneel)</label>
          <input type="text" id="huisnummer_toevoeging" name="huisnummer_toevoeging" />
        </div>
        <div class="field-group" style="position: relative;">
          <label for="password">Wachtwoord</label>
          <input type="password" id="password" name="password" required style="padding-right: 3rem;" autocomplete="new-password" />
          <button type="button" id="toggle-password"
            style="position: absolute; right: 8px; top: 33px; background: transparent; border: none; cursor: pointer;">
            <svg id="eye-open" xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24">
              <path stroke="#888" stroke-width="2" d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7-10-7-10-7Z"/>
              <circle cx="12" cy="12" r="3" stroke="#888" stroke-width="2"/>
            </svg>
          </button>
          <div class="error" id="err-password"></div>
        </div>
        <button type="submit" class="btn-primary">Account aanmaken</button>
      </form>

      <!-- LOGINFORMULIER -->
      <form id="loginForm" style="display:none; margin-top:2rem;">
        <div class="field-group">
          <label for="loginEmail">E-mail</label>
          <input type="email" id="loginEmail" name="loginEmail" required />
          <div class="error" id="err-loginEmail"></div>
        </div>
        <div class="field-group" style="position: relative;">
          <label for="loginPassword">Wachtwoord</label>
          <input type="password" id="loginPassword" name="loginPassword" required style="padding-right: 3rem;" autocomplete="current-password" />
          <button type="button" id="toggle-login-password"
            style="position: absolute; right: 8px; top: 33px; background: transparent; border: none; cursor: pointer;">
            <svg id="eye-open-login" xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24">
              <path stroke="#888" stroke-width="2" d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7-10-7-10-7Z"/>
              <circle cx="12" cy="12" r="3" stroke="#888" stroke-width="2"/>
            </svg>
          </button>
          <div class="error" id="err-loginPassword"></div>
        </div>
        <button type="submit" class="btn-primary">Inloggen</button>
        <div class="error" id="err-login-general"></div>
      </form>
      <div id="register-success" style="display:none; margin-top:2rem; color:green;"></div>
    </section>
  </main>
  
  <!-- 1) Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>

  <!-- 2) Gedeelde navigatieâ€logic -->
  <script defer src="nav.js"></script>

  <!-- 3) Paginapecifieke scripts -->
  <script defer src="account.js"></script>
</body>
</html>
