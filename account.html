<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Account | MestAssistent</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <nav class="navbar">
      <a href="index.html" class="nav-logo">MestAssistent</a>
      <ul class="nav-links">
        <li><a href="#" class="btn-login" id="nav-login">Inloggen</a></li>
        <li><a href="account.html" class="nav__item" id="nav-account" style="display:none;">Mijn account</a></li>
        <li><button class="btn-login" id="nav-logout" style="display:none;">Uitloggen</button></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <!-- AUTH-SECTION: login & registratie -->
    <section id="auth-section">
      <div class="auth-toggle">
        <button id="showLogin" class="btn-login">Inloggen</button>
        <button id="showRegister" class="btn-login">Registreren</button>
      </div>

      <!-- LOGINFORMULIER -->
      <form id="loginForm" class="auth-form" style="display:none; margin-top:2rem;" autocomplete="off">
        <!-- Voor ingevulde tab via hash -->
        <div class="field-group">
          <label for="loginEmail">E-mail</label>
          <input type="email" id="loginEmail" name="email" required />
          <div class="error" id="err-loginEmail"></div>
        </div>
        <div class="field-group pwd-group" style="position: relative;">
          <label for="loginPassword">Wachtwoord</label>
          <input type="password" id="loginPassword" name="password" required autocomplete="current-password" />
          <button type="button" id="toggle-login-password" class="btn-icon"></button>
          <div class="error" id="err-loginPassword"></div>
        </div>
        <button type="submit" class="btn-primary">Inloggen</button>
        <p class="mt-2">Nog geen account? <a href="#register" class="link-underline" id="toRegisterBottom">Registreer hier</a></p>
        <div class="error" id="err-login-general"></div>
      </form>

      <!-- REGISTERFORMULIER -->
      <form id="registerForm" class="auth-form" style="display:none; margin-top:2rem;" autocomplete="off">
        <p>Heb je al een account? <a href="#login" class="link-underline" id="toLoginTop">Klik hier</a></p>
        <div class="field-group">
          <label for="firstName">Voornaam</label>
          <input type="text" id="firstName" name="firstName" required />
          <div class="error" id="err-firstName"></div>
        </div>
        <div class="field-group">
          <label for="tussenvoegsel">Tussenvoegsel (optioneel)</n          </label>
          <input type="text" id="tussenvoegsel" name="tussenvoegsel" />
        </div>
        <div class="field-group">
          <label for="lastName">Achternaam</label>
          <input type="text" id="lastName" name="lastName" required />
          <div class="error" id="err-lastName"></div>
        </div>
        <div class="field-group">
          <label for="email">E-mail</label>
          <input type="email" id="email" name="email" required />
          <div class="error" id="err-email"></div>
        </div>
        <div class="field-group">
          <label for="phone">Telefoon</label>
          <input type="text" id="phone" name="phone" placeholder="+31 6 12345678" required />
          <div class="error" id="err-phone"></div>
        </div>
        <div class="field-group">
          <label for="city">Woonplaats</label>
          <input type="text" id="city" name="city" required />
          <div class="error" id="err-city"></div>
        </div>
        <div class="field-group">
          <label for="postcode">Postcode</label>
          <input type="text" id="postcode" name="postcode" placeholder="1234 AB" required />
          <div class="error" id="err-postcode"></div>
        </div>
        <div class="field-group">
          <label for="street">Straat</label>
          <input type="text" id="street" name="street" required />
          <div class="error" id="err-street"></div>
        </div>
        <div class="field-group">
          <label for="huisnummer">Huisnummer</label>
          <input type="number" id="huisnummer" name="huisnummer" required />
          <div class="error" id="err-huisnummer"></div>
        </div>
        <div class="field-group">
          <label for="huisnummer_toevoeging">Toevoeging (optioneel)</label>
          <input type="text" id="huisnummer_toevoeging" name="huisnummer_toevoeging" />
        </div>
        <div class="field-group pwd-group" style="position: relative;">
          <label for="password">Wachtwoord</label>
          <input type="password" id="password" name="password" required autocomplete="new-password" />
          <button type="button" id="toggle-password" class="btn-icon"></button>
          <div class="error" id="err-password"></div>
        </div>
        <button type="submit" class="btn-primary">Account aanmaken</button>
        <div id="register-success" class="success-message"></div>
      </form>
    </section>

    <!-- PROFILEâ€‘SECTION: alleen zichtbaar na inloggen -->
    <section id="profile-section" style="display:none; margin-top:2rem;">
      <h2>Mijn profiel</h2>
      <!-- profiel formulier code hier (ongewijzigd) -->
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
  <script defer src="nav.js"></script>
  <script defer src="account.js"></script>
</body>
</html>
