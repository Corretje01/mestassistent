<!-- beheer.html -->
<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Beheer – MestAssistent</title>
  <link rel="stylesheet" href="style.css"/>
  <!-- supabaseClient kan in head blijven als je dat elders ook zo doet -->
  <script type="module" src="supabaseClient.js"></script>
  <!-- nav-menu.js NIET meer hier inladen; we importeren en initialiseren onderaan -->
  <style>
    .container { max-width: 1100px; margin: 0 auto; padding: 1rem; }
    .filters { display:grid; grid-template-columns: repeat(4,1fr); gap:.5rem; }
    @media (max-width: 800px){ .filters { grid-template-columns: 1fr 1fr; } }
    textarea { width:100%; min-height: 70px; }
  </style>
</head>
<body>

  <!-- NAV / HEADER met vereiste IDs -->
  <header class="site-header">
    <nav class="navbar">
      <a href="/" class="nav-logo">KoeHandelaar</a>
  
      <!-- Hamburger toggle (mobiel) -->
      <button id="nav-toggle" class="nav-toggle" aria-label="Menu" aria-controls="site-menu" aria-expanded="false">
        <span class="bars" aria-hidden="true"></span>
      </button>
  
      <!-- Menu (overlay op mobiel, inline op desktop) -->
      <div id="site-menu" class="site-menu" hidden>
        <!-- Close-button (X) voor mobiel menu -->
        <button id="nav-close" class="nav-close" aria-label="Menu sluiten">
          <span aria-hidden="true">&times;</span>
        </button>
  
        <ul class="nav-links">
          <!-- Alleen na inloggen zichtbaar -->
          <li class="auth-only">
            <a href="stap1.html" class="nav__item" id="nav-bereken">Bereken plaatsingsruimte</a>
          </li>
          <li class="auth-only">
            <a href="mestplan.html" class="nav__item" id="nav-mestplan">Maak mestplan</a>
          </li>
  
          <!-- NIEUW: Upload (alleen ingelogd) -->
          <li class="auth-only">
            <a href="upload.html" class="nav__item" id="nav-upload">Mest uploaden</a>
          </li>
  
          <!-- Alleen ingelogd -->
          <li class="auth-only">
            <a href="account.html" class="nav__item" id="nav-account">Mijn account</a>
          </li>
  
          <!-- NIEUW: Beheer (alleen admin) -->
          <li class="auth-only admin-only">
            <a href="beheer.html" class="nav__item" id="nav-beheer">Beheer</a>
          </li>
  
          <!-- Altijd aanwezig, tekst/actie wisselt: Inloggen ↔ Uitloggen -->
          <li class="nav-auth-item">
            <button class="btn-login" id="nav-auth">Inloggen</button>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <!-- hoofdcontent moet id="main" hebben voor inert/focus-trap -->
  <main id="main" class="container">
    <h1>Beheer</h1>
    <div class="muted">Alleen zichtbaar voor admins.</div>

    <section class="card">
      <div class="filters">
        <select id="fStatus">
          <option value="">Alle statussen</option>
          <option value="in_behandeling">In behandeling</option>
          <option value="gepubliceerd">Gepubliceerd</option>
          <option value="afgewezen">Afgewezen</option>
        </select>
        <input id="fQuery" placeholder="Zoek naam/postcode"/>
        <select id="fCategorie"><option value="">Alle categorieën</option></select>
        <select id="fType"><option value="">Alle types</option></select>
      </div>
    </section>

    <section class="card">
      <div id="adminList">Laden…</div>
    </section>
  </main>

  <!-- optioneel: footer voor inert -->
  <footer id="footer"></footer>

  <!-- Pagina-scripts -->
  <script type="module" src="utils.js"></script>
  <script type="module" src="beheer.js"></script>

  <!-- NAV init: als LAATSTE, net boven </body> -->
  <script type="module">
    import { initNavMenu } from './nav-menu.js';
    initNavMenu({ menuId: 'site-menu', toggleId: 'nav-toggle' });
  </script>
</body>
</html>
